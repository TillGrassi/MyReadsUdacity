{"ast":null,"code":"var _jsxFileName = \"/Users/davidrajchercodaisseur/masterschool/students/books_library_till_gra\\xDFmann/myreads/starter/src/App.js\",\n    _s = $RefreshSig$();\n\nimport \"./App.css\";\nimport { useEffect, useState } from \"react\";\nimport { Route, Routes } from \"react-router-dom\";\nimport Shelves from \"./views/Shelves\";\nimport Search from \"./views/Search\";\nimport { getAll } from \"./BooksAPI\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction App() {\n  _s();\n\n  const [currentlyReading, setCurrentlyReading] = useState([]);\n  const [wantToRead, setWantToRead] = useState([]);\n  const [read, setRead] = useState([]);\n  const [books, setBooks] = useState([]);\n  const [currentShelf, setCurrentShelf] = useState(\"\");\n\n  function updateCurrentShelf(shelf) {\n    setCurrentShelf(shelf);\n    console.log(\"currentShelf\", currentShelf);\n  }\n\n  function updateCurrentlyReading(value) {\n    if (read.filter(value => value.key)) {\n      deleteBook(value, \"read\");\n    }\n\n    if (wantToRead.filter(value => value.key)) {\n      deleteBook(value, \"wantToRead\");\n    }\n\n    if (currentlyReading.filter(value => value.key)) {\n      deleteBook(value, \"currentlyReading\");\n    }\n\n    setCurrentlyReading([...currentlyReading, value]);\n  }\n\n  function updateWantToRead(value) {\n    if (read.filter(value => value.key)) {\n      deleteBook(value, \"read\");\n    }\n\n    if (wantToRead.filter(value => value.key)) {\n      deleteBook(value, \"wantToRead\");\n    }\n\n    if (currentlyReading.filter(value => value.key)) {\n      deleteBook(value, \"currentlyReading\");\n    }\n\n    setWantToRead([...wantToRead, value]);\n  }\n\n  function updateRead(value) {\n    if (read.filter(value => value.key)) {\n      deleteBook(value, \"read\");\n    }\n\n    if (wantToRead.filter(value => value.key)) {\n      deleteBook(value, \"wantToRead\");\n    }\n\n    if (currentlyReading.filter(value => value.key)) {\n      deleteBook(value, \"currentlyReading\");\n    }\n\n    setRead([...read, value]);\n  }\n\n  function deleteBook(book, shelf) {\n    if (shelf === \"currentlyReading\") {\n      setCurrentlyReading(currentlyReading.filter(item => item.key !== book.key));\n    }\n\n    if (shelf === \"wantToRead\") {\n      setWantToRead(wantToRead.filter(item => item.key !== book.key));\n    }\n\n    if (shelf === \"read\") {\n      setRead(read.filter(item => item.key !== book.key));\n    }\n  }\n\n  useEffect(() => {\n    const getBooks = async () => {\n      const books = await getAll();\n      setBooks(books);\n    };\n\n    getBooks();\n  }, []);\n  useEffect(() => {\n    console.log(books);\n    setRead(books.filter(book => book.shelf === \"read\"));\n    setCurrentlyReading(book => book.shelf === \"currentlyReading\");\n    setWantToRead(book => book.shelf === \"wantToRead\");\n  }, [books]);\n  useEffect(() => {\n    console.log({\n      read,\n      currentlyReading,\n      wantToRead\n    });\n  }, [read, currentlyReading, wantToRead]);\n  return /*#__PURE__*/_jsxDEV(Routes, {\n    children: [/*#__PURE__*/_jsxDEV(Route, {\n      exact: true,\n      path: \"/\",\n      element: /*#__PURE__*/_jsxDEV(Shelves, {\n        currentShelf: currentShelf,\n        updateCurrentShelf: shelf => updateCurrentShelf(shelf),\n        deleteBook: deleteBook,\n        updateCurrentlyReading: updateCurrentlyReading,\n        currentlyReading: currentlyReading,\n        updateWantToRead: updateWantToRead,\n        wantToRead: wantToRead,\n        updateRead: updateRead,\n        read: read\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Route, {\n      path: \"/search\",\n      element: /*#__PURE__*/_jsxDEV(Search, {\n        currentShelf: currentShelf,\n        updateCurrentShelf: shelf => updateCurrentShelf(shelf),\n        deleteBook: (book, shelf) => deleteBook(book, shelf),\n        updateCurrentlyReading: value => updateCurrentlyReading(value),\n        updateWantToRead: value => updateWantToRead(value),\n        updateRead: value => updateRead(value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 94,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"Kv3KAMB7TWtxPDD/kC8tepuWRfY=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["/Users/davidrajchercodaisseur/masterschool/students/books_library_till_gra√ümann/myreads/starter/src/App.js"],"names":["useEffect","useState","Route","Routes","Shelves","Search","getAll","App","currentlyReading","setCurrentlyReading","wantToRead","setWantToRead","read","setRead","books","setBooks","currentShelf","setCurrentShelf","updateCurrentShelf","shelf","console","log","updateCurrentlyReading","value","filter","key","deleteBook","updateWantToRead","updateRead","book","item","getBooks"],"mappings":"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","sourcesContent":["import \"./App.css\";\nimport { useEffect, useState } from \"react\";\nimport { Route, Routes } from \"react-router-dom\";\nimport Shelves from \"./views/Shelves\";\nimport Search from \"./views/Search\";\nimport { getAll } from \"./BooksAPI\";\n\nfunction App() {\n  const [currentlyReading, setCurrentlyReading] = useState([]);\n  const [wantToRead, setWantToRead] = useState([]);\n  const [read, setRead] = useState([]);\n  const [books, setBooks] = useState([]);\n  const [currentShelf, setCurrentShelf] = useState(\"\");\n\n  function updateCurrentShelf(shelf) {\n    setCurrentShelf(shelf);\n    console.log(\"currentShelf\", currentShelf);\n  }\n\n  function updateCurrentlyReading(value) {\n    if (read.filter((value) => value.key)) {\n      deleteBook(value, \"read\");\n    }\n    if (wantToRead.filter((value) => value.key)) {\n      deleteBook(value, \"wantToRead\");\n    }\n    if (currentlyReading.filter((value) => value.key)) {\n      deleteBook(value, \"currentlyReading\");\n    }\n    setCurrentlyReading([...currentlyReading, value]);\n  }\n\n  function updateWantToRead(value) {\n    if (read.filter((value) => value.key)) {\n      deleteBook(value, \"read\");\n    }\n    if (wantToRead.filter((value) => value.key)) {\n      deleteBook(value, \"wantToRead\");\n    }\n    if (currentlyReading.filter((value) => value.key)) {\n      deleteBook(value, \"currentlyReading\");\n    }\n    setWantToRead([...wantToRead, value]);\n  }\n\n  function updateRead(value) {\n    if (read.filter((value) => value.key)) {\n      deleteBook(value, \"read\");\n    }\n    if (wantToRead.filter((value) => value.key)) {\n      deleteBook(value, \"wantToRead\");\n    }\n    if (currentlyReading.filter((value) => value.key)) {\n      deleteBook(value, \"currentlyReading\");\n    }\n    setRead([...read, value]);\n  }\n\n  function deleteBook(book, shelf) {\n    if (shelf === \"currentlyReading\") {\n      setCurrentlyReading(\n        currentlyReading.filter((item) => item.key !== book.key)\n      );\n    }\n    if (shelf === \"wantToRead\") {\n      setWantToRead(wantToRead.filter((item) => item.key !== book.key));\n    }\n    if (shelf === \"read\") {\n      setRead(read.filter((item) => item.key !== book.key));\n    }\n  }\n\n  useEffect(() => {\n    const getBooks = async () => {\n      const books = await getAll();\n      setBooks(books);\n    };\n\n    getBooks();\n  }, []);\n\n  useEffect(() => {\n    console.log(books);\n    setRead(books.filter((book) => book.shelf === \"read\"));\n    setCurrentlyReading((book) => book.shelf === \"currentlyReading\");\n    setWantToRead((book) => book.shelf === \"wantToRead\");\n  }, [books]);\n\n  useEffect(() => {\n    console.log({ read, currentlyReading, wantToRead });\n  }, [read, currentlyReading, wantToRead]);\n\n  return (\n    <Routes>\n      <Route\n        exact\n        path='/'\n        element={\n          <Shelves\n            currentShelf={currentShelf}\n            updateCurrentShelf={(shelf) => updateCurrentShelf(shelf)}\n            deleteBook={deleteBook}\n            updateCurrentlyReading={updateCurrentlyReading}\n            currentlyReading={currentlyReading}\n            updateWantToRead={updateWantToRead}\n            wantToRead={wantToRead}\n            updateRead={updateRead}\n            read={read}\n          />\n        }\n      />\n      <Route\n        path='/search'\n        element={\n          <Search\n            currentShelf={currentShelf}\n            updateCurrentShelf={(shelf) => updateCurrentShelf(shelf)}\n            deleteBook={(book, shelf) => deleteBook(book, shelf)}\n            updateCurrentlyReading={(value) => updateCurrentlyReading(value)}\n            updateWantToRead={(value) => updateWantToRead(value)}\n            updateRead={(value) => updateRead(value)}\n          />\n        }\n      />\n    </Routes>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}